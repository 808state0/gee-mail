<!DOCTYPE html>
<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser


//toggle emails

var para= document.createElement("p");
var parentEmail= document.getElementsByClassName("Email")[0];
var parentInbox= document.getElementsByClassName("Inbox")[0];

//message counter
var messageCount=0;
	var inboxCount = document.createElement("span");
			parentInbox.appendChild(inboxCount);


//generating first mail
	
for (var i = 0; i<window.geemails.length; i++){
		// console.log(geemails[i]);

		messageCount  +=1;

		var subject = document.createElement("div");
				subject.className = "Email";
				subject.innerHTML = "SUBJECT:" + geemails[i].subject;
				parentEmail.appendChild(subject);
			// console.log(subject);

		var sender = document.createElement('div');
				sender.className = "Email";
				subject.innerHTML = "SENDER:" + geemails[i].sender;
				parentEmail.appendChild(sender);
				// console.log(sender);

		var date = document.createElement('div');
				date.className ="Email";
				date.innerHTML = "DATE:" + geemails[i].date;
				parentEmail.appendChild(date);
				// console.log(date);

		var body = document.createElement('p');
				body.className = "Email";
				body.innerHTML = "BODY:" + geemails[i].body;
				parentEmail.appendChild(body);
				// console.log(body);

		var divider = document.createElement('img');
                divider.className = "divider";
                divider.src = "https://mpnforum.files.wordpress.com/2012/03/divider-horizon-line.jpg";
                parentEmail.appendChild(divider); 

                inboxCount.innerHTML = messageCount + ": new Emails";

// intervals for next message        

       setInterval(LoadMoreMessages, 10000);


		
// For new mail

function LoadMoreMessages(newMail){


	var newMail = getNewMessage();


		messageCount += 1;

					

    	var subject = document.createElement('div');
                subject.className = "emailSubject";
               	subject.innerHTML = "SUBJECT:" + newMail.subject;
               	parentEmail.appendChild(subject);
               			
        var sender = document.createElement('div');
           		sender.className = "emailSender";
                sender.innerHTML = "SENDER:" + newMail.sender;
                parentEmail.appendChild(sender);
               	
        var date = document.createElement('div');
           		date.className = "date";
                date.innerHTML = "DATE:" + newMail.date;
                parentEmail.appendChild(date);
	
		var body= document.createElement("p");
        		body.className ="Email";
        		body.innerHTML = "BODY:" + newMail.body;
				parentEmail.appendChild(body);
					


            var divider = document.createElement('img');
                divider.className = "divider";
                divider.src = "https://mpnforum.files.wordpress.com/2012/03/divider-horizon-line.jpg";
                parentEmail.appendChild(divider); 
			
		}
	}
};
 </script>
	</head>
	<body>

		<div class="container" id="main">
			<div>
			<header>
				<div>
				<h1>   <b>	<font size="12">Gmail</font> </b> 
				</h1>	

				</div>
				<div>
				<b>	<font size="12">Social</font> </b>
				</div>	
				</header>

			</div>			
			<div>
				<ul>
					<li>Inbox</li>
					<li>Important</li>
					<li>Starred</li>
					<li>Sent Mail</li>
					<li>Drafts</li>
					<li>More  &#x2193</li>
					</ul>
				</div>
				<hr>
				<div>
				<span>
						 <b>	<font size="12">Mail</font> </b> 
						 <hr>
						</span>
						</div>
		 <div class="Inbox">
		 				 </div>

		<div class ="Email">
					
						</div>
					 </span>
				</div>
		<div id="Main">
				</div>

				</body>
</html>